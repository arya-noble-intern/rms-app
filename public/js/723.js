(self.webpackChunk=self.webpackChunk||[]).push([[723],{2533:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=n(4015),i=n.n(a),s=n(3645),r=n.n(s)()(i());r.push([t.id,'.v-spinner .v-dot1{-webkit-animation:v-dotRotate 2s linear 0s infinite;animation:v-dotRotate 2s linear 0s infinite;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.v-spinner .v-dot2{-webkit-animation:v-dotBounce 2s linear 0s infinite;animation:v-dotBounce 2s linear 0s infinite;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;position:"absolute";top:0;bottom:auto}.v-spinner .v-dot3{-webkit-animation:v-dotBounce 2s linear -1s infinite;animation:v-dotBounce 2s linear -1s infinite;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;position:"absolute";top:auto;bottom:0}@-webkit-keyframes v-dotRotate{to{transform:rotate(1turn)}}@keyframes v-dotRotate{to{transform:rotate(1turn)}}@-webkit-keyframes v-dotBounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes v-dotBounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}',"",{version:3,sources:["webpack://./node_modules/vue-spinner/src/DotLoader.vue"],names:[],mappings:"AAgEA,mBAGA,mDAAA,CACA,2CAAA,CACA,oCAAA,CACA,4BACA,CAEA,mBAGA,mDAAA,CACA,2CAAA,CACA,oCAAA,CACA,4BAAA,CACA,mBAAA,CACA,KAAA,CACA,WACA,CAEA,mBAEA,oDAAA,CACA,4CAAA,CACA,oCAAA,CACA,4BAAA,CACA,mBAAA,CACA,QAAA,CACA,QACA,CAEA,+BAEA,GAGA,uBACA,CACA,CAEA,uBAEA,GAGA,uBACA,CACA,CAEA,+BAEA,MAIA,kBACA,CACA,IAGA,kBACA,CACA,CAEA,uBAEA,MAIA,kBACA,CACA,IAGA,kBACA,CACA",sourcesContent:["<template>\n<div class=\"v-spinner\" v-show=\"loading\">\n    <div class=\"v-dot v-dot1\" v-bind:style=\"spinnerBasicStyle\">\n    <div class=\"v-dot v-dot2\" v-bind:style=\"spinnerStyle\">\n    </div><div class=\"v-dot v-dot3\" v-bind:style=\"spinnerStyle\">\n    </div></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  \n  name: 'DotLoader',\n\n  props: {\n    loading: {\n      type: Boolean,\n      default: true\n    },\n    color: { \n      type: String,\n      default: '#5dc596'\n    },\n    size: {\n      type: String,\n      default: '60px'\n    },\n    margin: {\n      type: String,\n      default: '2px'\n    },\n    radius: {\n      type: String,\n      default: '100%'\n    }\n  },\n  computed: {\n    spinnerStyle () {\n      return {\n        backgroundColor: this.color,\n        height: parseFloat(this.size)/2 + 'px',\n        width: parseFloat(this.size)/2 + 'px',\n        borderRadius: this.radius\n      }\n    },\n    spinnerBasicStyle () {\n      return {\n        height: this.size,\n        width: this.size,\n        position: 'relative'\n      }\n    }\n  }\n\n}\n<\/script>\n\n<style>\n\n.v-spinner .v-dot\n{\n          \n}\n\n.v-spinner .v-dot1\n{\n\n    -webkit-animation: v-dotRotate 2s 0s infinite linear;\n            animation: v-dotRotate 2s 0s infinite linear;\n    -webkit-animation-fill-mode: forwards;\n            animation-fill-mode: forwards;\n}\n\n.v-spinner .v-dot2\n{\n\n    -webkit-animation: v-dotBounce 2s 0s infinite linear;\n            animation: v-dotBounce 2s 0s infinite linear;\n    -webkit-animation-fill-mode: forwards;\n            animation-fill-mode: forwards;\n    position: 'absolute';\n    top: 0;\n    bottom: auto;\n}\n\n.v-spinner .v-dot3\n{\n    -webkit-animation: v-dotBounce 2s -1s infinite linear;\n            animation: v-dotBounce 2s -1s infinite linear;\n    -webkit-animation-fill-mode: forwards;\n            animation-fill-mode: forwards;\n    position: 'absolute';\n    top: auto;\n    bottom: 0;            \n}\n\n@-webkit-keyframes v-dotRotate\n{\n    100%\n    {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n    }\n}\n\n@keyframes v-dotRotate\n{\n    100%\n    {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n    }\n}\n\n@-webkit-keyframes v-dotBounce\n{\n    0%,\n    100%\n    {\n        -webkit-transform: scale(0);\n                transform: scale(0);\n    }\n    50%\n    {\n        -webkit-transform: scale(1.0);\n                transform: scale(1.0);\n    }\n}\n\n@keyframes v-dotBounce\n{\n    0%,\n    100%\n    {\n        -webkit-transform: scale(0);\n                transform: scale(0);\n    }\n    50%\n    {\n        -webkit-transform: scale(1.0);\n                transform: scale(1.0);\n    }\n}\n</style>"],sourceRoot:""}]);const o=r},2284:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});const a={name:"DotLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle(){return{backgroundColor:this.color,height:parseFloat(this.size)/2+"px",width:parseFloat(this.size)/2+"px",borderRadius:this.radius}},spinnerBasicStyle(){return{height:this.size,width:this.size,position:"relative"}}}};var i=n(3379),s=n.n(i),r=n(2533),o={insert:"head",singleton:!1};s()(r.Z,o);r.Z.locals;var l=n(1900);const c={name:"Loading",components:{DotLoader:(0,l.Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-dot v-dot1",style:t.spinnerBasicStyle},[n("div",{staticClass:"v-dot v-dot2",style:t.spinnerStyle}),n("div",{staticClass:"v-dot v-dot3",style:t.spinnerStyle})])])}),[],!1,null,null,null).exports}};const d=(0,l.Z)(c,(function(){var t=this.$createElement;return(this._self._c||t)("dot-loader",{attrs:{color:"#f77f00"}})}),[],!1,null,null,null).exports},4062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const a={name:"PageHeading",props:{title:{type:String,default:""}}};const i=(0,n(1900).Z)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"h3 text-uppercase mb-4"},[t._v(t._s(t.title))])])}),[],!1,null,null,null).exports},9723:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>m});var a=n(7757),i=n.n(a),s=n(629),r=n(4062),o=n(2284),l=n(7338);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,a,i,s,r){try{var o=t[s](r),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(a,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function r(t){u(s,a,i,r,o,"next",t)}function o(t){u(s,a,i,r,o,"throw",t)}r(void 0)}))}}const f={name:"EmployeeRequestFormIndex",components:{PageHeading:r.Z,Loading:o.Z},data:function(){return{loading:!1,filterSelected:"",filterOptions:[],searchField:"",timer:null,page:1}},mounted:function(){var t=this;return v(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getErfs();case 2:t.initInput(),t.initFilterOptions();case 4:case"end":return e.stop()}}),e)})))()},computed:d({},(0,s.Se)({ERFS:"employeeRequestForm/ERFS"})),methods:d(d({},(0,s.nv)({GET_ERFS:"employeeRequestForm/GET_ERFS"})),{},{initInput:function(){document.querySelectorAll(".form-outline").forEach((function(t){new l.Input(t).init()}))},initFilterOptions:function(){var t=this;this.$getConst("ERF_FILTER_OPTIONS").forEach((function(e){var n=e.replaceAll("-"," ").split(" ").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join(" ");t.filterOptions.push(n)})),this.filterSelected=this.filterOptions[0]},changePage:function(t){this.page=this.ERFS.meta.current_page,"next"==t?this.ERFS.links.next&&(this.page+=1,this.getErfs(),this.$scrollTo("#app",{duration:200})):this.ERFS.links.prev&&(this.page-=1,this.getErfs(),this.$scrollTo("#app",{duration:200}))},getErfs:function(){var t=this;return v(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,t.$toast.info("Loading ..."),e.next=5,t.GET_ERFS({page:t.page,filter:t.filterSelected.toLowerCase().replaceAll(" ","-"),search:t.searchField});case 5:t.$toast.success("Data updated"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$toast.error("Error! "+e.t0.response.statusText);case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))()},getTextApproval:function(t){var e="";switch(t.approval.approval_by_pic){case null:e="Waiting PIC Approval";break;case 0:e="Rejected by ".concat(t.approval.pic.name);break;case 1:e="Approved by PIC\n                                     ".concat(t.approval.pic.name," -\n                                    ").concat(this.$moment(t.approval.updated_at,"YYYY-MM-DDTHH:mm:ssZ").format("DD/MMMM/YYYY"))}return e},getStatusBadge:function(t){var e="";switch(t){case null:e="info";break;case 0:e="danger";break;default:e="success"}return"bg-".concat(e)},getStatusText:function(t){var e="";switch(t){case null:e="Needs Approval";break;case 0:e="Rejected";break;default:e="All Approved"}return e},changeFilter:function(t){var e=this;return v(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loading=!0,e.filterSelected=t,n.prev=2,n.next=5,e.getErfs();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),e.$toast.error("Error! "+n.t0.response.statusText);case 10:return n.prev=10,e.loading=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[2,7,10,13]])})))()},searchForTitle:function(){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.getErfs()}),800)}})};const m=(0,n(1900).Z)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 d-flex justify-content-between align-items-center"},[n("page-heading",{attrs:{title:"Employee Request Forms"}}),t._v(" "),t.loading?n("loading"):t._e()],1)]),t._v(" "),n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-12 d-flex justify-content-between align-items-center"},[n("div",[n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-primary dropdown-toggle",attrs:{type:"button",id:"dropdownFilter","data-mdb-toggle":"dropdown","aria-expanded":"false"}},[t._v("\n                        "+t._s(t.filterSelected)+"\n                    ")]),t._v(" "),n("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownFilter"}},t._l(t.filterOptions,(function(e,a){return n("li",{key:a},[n("a",{staticClass:"dropdown-item",class:{active:e==t.filterSelected},attrs:{href:"javascript:void(0)"},on:{click:function(n){return t.changeFilter(e)}}},[t._v(t._s(e))])])})),0)])]),t._v(" "),n("div",[n("div",{staticClass:"input-group"},[n("div",{staticClass:"form-outline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchField,expression:"searchField"}],staticClass:"form-control",attrs:{type:"search",id:"searchForm"},domProps:{value:t.searchField},on:{input:[function(e){e.target.composing||(t.searchField=e.target.value)},t.searchForTitle]}}),t._v(" "),n("label",{staticClass:"form-label",attrs:{for:"searchForm"}},[t._v("Search ERF Title")])]),t._v(" "),t._m(0)])])])]),t._v(" "),n("div",{staticClass:"row mt-4"},t._l(t.ERFS.data,(function(e){return n("div",{key:e.id,staticClass:"col-12 col-lg-4"},[n("div",{staticClass:"card shadow-2-strong rounded mb-3 p-2"},[n("div",{staticClass:"row g-0"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title w-100 text-nowrap text-truncate"},[t._v("\n                                "+t._s(e.title)+"\n                            ")]),t._v(" "),n("p",{staticClass:"text-muted mb-2"},[t._v("\n                                Approved by LHC -\n                                "+t._s(t._f("moment")(e.approval.created_at,"DD/MMMM/YYYY"))+"\n                            ")]),t._v(" "),n("p",{staticClass:"text-muted mb-2"},[t._v("\n                                "+t._s(t.getTextApproval(e))+"\n                            ")]),t._v(" "),n("p",{staticClass:"text-muted mb-0"},[t._v("\n                                Associated candidate cards :\n                                "+t._s(e.candidate_cards_count)+"\n                            ")])]),t._v(" "),n("div",{staticClass:"card-footer d-flex align-items-center justify-content-between py-2"},[n("div",[n("button",{staticClass:"btn btn-sm btn-rounded text-white",class:t.getStatusBadge(e.approval.approval_by_pic),attrs:{type:"button",disabled:""}},[t._v("\n                                    "+t._s(t.getStatusText(e.approval.approval_by_pic))+"\n                                ")])]),t._v(" "),n("router-link",{staticClass:"btn btn-link",attrs:{to:{name:"employee-request-forms-show",params:{id:e.id}},type:"button"}},[t._v("\n                                More Details\n                            ")])],1)])])])])})),0),t._v(" "),t.ERFS.data?n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",[n("p",[t._v("\n                        Page\n                        "+t._s(t.ERFS.meta.current_page)+" of\n                        "+t._s(t.ERFS.meta.last_page)+"\n                    ")])]),t._v(" "),n("nav",{attrs:{"aria-label":"pagination"}},[n("ul",{staticClass:"pagination justify-content-end mb-0"},[n("li",{staticClass:"page-item",class:{disabled:!t.ERFS.links.prev||t.loading},attrs:{disabled:t.loading},on:{click:function(e){return t.changePage("prev")}}},[n("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)",tabindex:"-1"}},[t._v("Previous")])]),t._v(" "),n("li",{staticClass:"page-item active"},[n("a",{staticClass:"page-link pe-none",attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.ERFS.meta.current_page))])]),t._v(" "),n("li",{staticClass:"page-item",class:{disabled:!t.ERFS.links.next||t.loading},attrs:{disabled:t.loading},on:{click:function(e){return t.changePage("next")}}},[n("a",{staticClass:"page-link",attrs:{href:"javascript:void(0)"}},[t._v("Next")])])])])])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-search"})])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=723.js.map